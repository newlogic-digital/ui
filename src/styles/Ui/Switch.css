.ui-switch {
  --ui-switch-width: 3rem;
  --ui-switch-height: 1.5rem;
  --ui-switch-padding: 0.375rem;
  --ui-swtich-bg: var(--color-dark);
  --ui-swtich-bg-opacity: 0.2;
  --ui-swtich-fg: var(--color-accent);
  --ui-switch-radius: 999px;

  @nest .dark & {
    --ui-swtich-bg: var(--color-background-300);
  }

  display: inline-flex;
  color: rgb(var(--ui-swtich-fg));
  position: relative;

  &:--size-sm {
    --ui-switch-width: 2.5rem;
    --ui-switch-height: 1.25rem;
  }

  &:--size-lg {
    --ui-switch-width: 4rem;
    --ui-switch-height: 2rem;
  }

  & input {
    width: var(--ui-switch-width);
    height: var(--ui-switch-height);
    display: block;
    position: relative;
    border-radius: var(--ui-switch-radius);
    background-color: rgb(var(--ui-swtich-bg));
    transition: var(--transition-background);
    cursor: pointer;
    appearance: none;
    outline: none;
    color: inherit;

    &[disabled] {
      opacity: 0.8;
      pointer-events: none;
    }

    &::before {
      width: calc(var(--ui-switch-height) - var(--ui-switch-padding));
      height: calc(var(--ui-switch-height) - var(--ui-switch-padding));
      background-color: rgb(var(--color-light));
      border-radius: var(--ui-switch-radius);
      position: absolute;
      left: var(--ui-switch-height);
      top: 50%;
      content: "";
      display: block;
      margin-left: calc((var(--ui-switch-height) - var(--ui-switch-padding) + var(--ui-switch-padding) / 2) * -1);
      transition: left var(--transition), var(--transition-background);
      transform: translateY(-50%);
    }

    &:checked {
      background-color: currentColor;

      &::before {
        background-color: rgb(var(--color-light));
        left: 100%;
      }
    }
  }
}
